%% This is a quick and dirty verstion of cogimon official template
%% re-written for beamer. It needs fira sans mono and should be run
%% with lualatex or xelatex. This comes with no guarantee so use it
%% at your own risk.
%%
%% Author: Pouya Mohammadi

\mode<presentation>

\RequirePackage{tikz}

\ifdefined\directlua
  \RequirePackage[no-math]{fontspec}
  
  %% Fonts: we use fira from mozila. it is free and open source.
  %  I have not handled "font not found". Note this should be 
  %  used with xelatex or lualatex... 
  \setsansfont[ItalicFont={Fira Sans Light Italic},%
                  BoldFont={Fira Sans},%
                  BoldItalicFont={Fira Sans Italic}]%
  				{Fira Sans Light}%
  \setmonofont[BoldFont={Fira Mono Medium}]{Fira Mono}%
  
  %% appearantly some linuxes use this OT thing...
  % \setsansfont[ItalicFont={Fira Sans Light Italic OT},%
  %                 BoldFont={Fira Sans OT},%
  %                 BoldItalicFont={Fira Sans Italic OT}]%
  % 				{Fira Sans Light OT}%
  % \setmonofont[BoldFont={Fira Mono Medium OT}]{Fira Mono OT}%
\else
  \RequirePackage[T1]{fontenc}
  
  \RequirePackage[sfdefault,light,medium]{FiraSans}
  \RequirePackage[medium]{FiraMono}
\fi

%% To use normal math font:
\usefonttheme[onlymath]{serif}

%% Define some colors:
\definecolor{cogimon-dark-blue}{RGB}{30,68,138}
\definecolor{cogimon-gold}{RGB}{253,203,11}
\definecolor{cogimon-dark-red}{RGB}{180,5,5}
\definecolor{cogimon-dark-gray}{RGB}{100,100,100}

%% Footline:
\setbeamertemplate{footline}{%
	\begin{tikzpicture}%
	    \node (img) [inner sep=0pt] {\includegraphics[width=1\paperwidth]{figures/footline.pdf}};%
	    \node [inner sep=0pt, color=cogimon-dark-blue, xshift=3em] at (img.west) {\small W.P. \insertsection{}};%
	    \node [inner sep=0pt, color=cogimon-dark-blue, xshift=10em] at (img.west) {\small T. \insertsubsection{}};%
	    \node [inner sep=0pt, color=cogimon-dark-blue, xshift=-.08\paperwidth, yshift=-0.55em] at (img.east) {\scriptsize \insertframenumber{}};%
	\end{tikzpicture}%
}

%% Headline:
\addtobeamertemplate{headline}{
	\includegraphics[width=1\paperwidth]{figures/headline.pdf}
}

%% Title page background and stuff
\addtobeamertemplate{title page}{%
	\begin{tikzpicture}[remember picture,overlay]
	% \node [inner sep=0pt, color=cogimon-dark-blue] at (current page.center) {\small W.P. \insertsection{}};%
        \def\imghght{.027\paperwidth}
        \node (img1) [inner sep=0pt,anchor=north] at (current page.north) {\includegraphics[width=1\paperwidth]{figures/headline.pdf}};%
        \node (img2) [inner sep=0pt,anchor=south] at (current page.south) {\includegraphics[width=1\paperwidth]{figures/footline.pdf}};%
        \node (img3) [inner sep=1.5pt,anchor=south west] at (current page.south west) {%
        	\includegraphics[height=\imghght]{figures/tubs-logo.png} \hspace{2pt}% 
        	\includegraphics[height=\imghght]{figures/epfl-logo.png} \hspace{2pt}%
        	\includegraphics[height=\imghght]{figures/fsl-logo.jpg} \hspace{2pt}%
        	\includegraphics[height=\imghght]{figures/tuebingen-logo.png} \hspace{2pt}%
        	\includegraphics[height=\imghght]{figures/iit-logo.jpg} \hspace{2pt}%
        	\includegraphics[height=\imghght]{figures/edinburgh-logo.png} \hspace{2pt}%
        	\includegraphics[height=\imghght]{figures/icl-logo.png} \hspace{2pt}%
        	\includegraphics[height=\imghght]{figures/unibi-logo.png}%        	
        };%
    \end{tikzpicture}       
	\setbeamerfont{title}{series=\bfseries}
	\setbeamerfont{subtitle}{series=\bfseries}
	\setbeamerfont{author}{series=\bfseries}
	\setbeamerfont{institute}{series=\bfseries}
	\setbeamerfont{date}{series=\bfseries}
	\setbeamercolor{title}{fg=cogimon-dark-blue}	
	\setbeamercolor{subtitle}{fg=cogimon-dark-gray}	
	\setbeamercolor{author}{fg=cogimon-dark-gray}
	\setbeamercolor{institute}{fg=cogimon-dark-gray}
	\setbeamercolor{date}{fg=cogimon-dark-gray}
}

%% Special text colors
\setbeamercolor{frametitle}{fg=cogimon-dark-blue}
\setbeamercolor{alerted text}{fg=cogimon-dark-red}
%\setbeamerfont{frametitle}{series=\bfseries}

%% Bullet points:
%\setbeamerfont{itemize item}{size=\scriptsize}
%\setbeamerfont{itemize subitem}{size=\tiny}
\setbeamercolor{item}{fg=cogimon-dark-blue}
\setbeamertemplate{itemize items}{\raisebox{1.5pt}{\scalebox{.7}{$\scriptscriptstyle \blacksquare$}}}
%\setbeamertemplate{itemize subitem}[square]

%% NO navigation symbols
\setbeamertemplate{navigation symbols}{}
\mode<all>